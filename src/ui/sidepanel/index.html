<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>FOMOff - Reality Check</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body data-fomoff-ui>
    <div class="panel">
      <div class="header">
        <div class="brand">
          <div class="logo"></div>
          <div>
            <h1>FOMOff</h1>
            <p>Reality Check</p>
          </div>
        </div>
        <label class="switch">
          <span>On</span>
          <input id="global-toggle" type="checkbox" aria-label="FOMOff enabled" />
        </label>
      </div>

      <div class="section" id="site-section">
        <div class="section-title-row">
          <div class="section-title">Current site</div>
          <button class="info-icon" data-info="site" aria-label="About site controls">i</button>
        </div>
        <div class="site-row">
          <div>
            <div class="site-host" id="site-host">--</div>
            <div class="site-status" id="site-status">Checking...</div>
          </div>
        </div>
        <div class="site-actions">
          <button class="button primary" id="site-toggle">Pause on this site</button>
          <button class="button outline" id="site-snooze">Snooze 1 hour</button>
          <button class="link-button" id="site-allow">Trust this site</button>
        </div>
        <div class="site-row" id="badges-row">
          <div class="site-status">
            On-page badges
            <button class="info-icon" data-info="badges" aria-label="About badges">i</button>
          </div>
          <label class="switch">
            <span>Badges</span>
            <input id="badges-toggle" type="checkbox" />
          </label>
        </div>
        <div class="badge-note">
          Shows subtle labels on the page next to pressure tactics (great for screenshots).
        </div>
      </div>

      <div class="section" id="mode-section">
        <div class="section-title-row">
          <div class="section-title">Mode</div>
          <button class="info-icon" data-info="mode" aria-label="About modes">i</button>
        </div>
        <div class="modes" role="group" aria-label="Mode selection">
          <button class="mode" data-mode="calm">Calm</button>
          <button class="mode" data-mode="zen">Zen Shopping</button>
          <button class="mode" data-mode="off">Off</button>
        </div>
        <div class="mode-note" id="mode-note"></div>
      </div>

      <div class="section" id="summary-section">
        <div class="section-title">Summary</div>
        <div class="summary">
          <div class="summary-card">
            <div class="summary-count" id="total-count" role="status" aria-live="polite" aria-atomic="true">
              0
            </div>
            <div class="summary-label">tactics muted</div>
          </div>
        </div>
        <div class="summary-note" id="summary-note" hidden></div>
        <div class="summary-groups" id="summary-groups"></div>
      </div>

      <div class="section">
        <div class="tabs" role="tablist">
          <button class="tab active" data-tab="detections" role="tab" aria-controls="detections-tab" aria-selected="true">
            Found (<span id="found-count">0</span>)
            <span class="tab-dot" id="found-dot" hidden></span>
          </button>
          <button class="tab" data-tab="journal" role="tab" aria-controls="journal-tab" aria-selected="false">
            Journal
          </button>
        </div>
      </div>

      <div class="section" id="detections-tab">
        <div class="clean-state" id="clean-state" hidden>
          <div class="clean-icon"></div>
          <div class="clean-title">Clean site</div>
          <div class="clean-subtitle">This page respects your attention.</div>
          <div class="clean-detail">0 pressure tactics found.</div>
        </div>
        <div class="share-quick" id="share-quick" hidden>
          <button class="button primary" id="share-quick-copy">Copy report</button>
          <button class="button ghost" id="share-quick-options">More options</button>
        </div>
        <div class="share-block" id="share-block" hidden>
          <div class="section-title">Reality check card</div>
          <div class="share-note">We dimmed a little urgency theater. You're welcome.</div>
          <div class="share-panel" id="share-panel" hidden>
            <div class="share-preview" id="share-preview"></div>
            <label class="share-toggle">
              <input id="share-hide-site" type="checkbox" />
              Hide site name
            </label>
            <div class="share-actions">
              <button class="button ghost" id="share-copy">Copy image</button>
              <button class="button ghost" id="share-download">Download PNG</button>
            </div>
          </div>
        </div>
        <div class="list" id="detections-list"></div>
      </div>

      <div class="section" id="journal-tab" hidden>
        <div class="section-title">Local journal</div>
        <div class="site-row" style="margin-bottom: 8px;">
          <div class="site-status">Counts stay on this device only.</div>
          <label class="switch">
            <span>Track</span>
            <input id="journal-toggle" type="checkbox" />
          </label>
        </div>
        <div class="journal-recap" id="journal-recap" hidden>
          <div>
            <div class="journal-recap-title">This week</div>
            <div class="journal-recap-count" id="journal-weekly-count">0</div>
            <div class="journal-recap-sub">pressure tactics muted</div>
          </div>
          <div class="journal-recap-actions">
            <button class="button ghost" id="journal-recap-copy">Copy recap</button>
            <button class="button ghost" id="journal-recap-download">Download PNG</button>
          </div>
        </div>
        <div class="site-row" style="margin-bottom: 10px;">
          <div class="site-status">Retention</div>
          <select id="journal-retention" class="button ghost">
            <option value="7">7 days</option>
            <option value="30">30 days</option>
            <option value="90">90 days</option>
          </select>
        </div>
        <div class="site-row" style="margin-bottom: 10px;">
          <button class="button ghost" id="export-journal">Export JSON</button>
          <button class="button ghost" id="delete-all">Delete all data</button>
        </div>
        <div class="journal-list" id="journal-list"></div>
      </div>

      <div class="footer">
        <strong>Privacy:</strong> No data leaves your device. No tracking. No analytics.
        <button class="link-button small" data-info="permissions">Permissions</button>
        <button class="link-button small" id="intro-reset">Show intro again</button>
      </div>
    </div>

    <div class="sheet" id="info-sheet" hidden>
      <div class="sheet-card" role="dialog" aria-modal="true" aria-labelledby="sheet-title">
        <div class="sheet-header">
          <div class="sheet-title" id="sheet-title"></div>
          <button class="link-button" id="sheet-close">Close</button>
        </div>
        <ul class="sheet-body" id="sheet-body"></ul>
      </div>
    </div>

    <div class="intro" id="intro-overlay" hidden>
      <div class="intro-backdrop"></div>
      <div class="intro-highlight" id="intro-highlight"></div>
      <div
        class="intro-card"
        id="intro-card"
        role="dialog"
        aria-modal="true"
        aria-labelledby="intro-title"
        aria-describedby="intro-text"
      >
        <div class="intro-step" id="intro-step">1/3</div>
        <div class="intro-title" id="intro-title"></div>
        <div class="intro-text" id="intro-text"></div>
        <div class="intro-actions">
          <button class="button ghost" id="intro-skip">Skip</button>
          <button class="button primary" id="intro-next">Next</button>
        </div>
      </div>
    </div>

    <script src="../../shared/types.js"></script>
    <script src="../../shared/designTokens.js"></script>
    <script src="components/item.js"></script>
    <script src="shareCard.js"></script>
    <script src="app.js"></script>
  </body>
</html>
